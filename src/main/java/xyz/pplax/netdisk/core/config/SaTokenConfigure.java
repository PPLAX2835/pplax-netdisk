package xyz.pplax.netdisk.core.config;import cn.dev33.satoken.interceptor.SaInterceptor;import cn.dev33.satoken.router.SaRouter;import cn.dev33.satoken.stp.StpUtil;import org.springframework.context.annotation.Configuration;import org.springframework.web.servlet.config.annotation.InterceptorRegistry;import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;/** * SaToken 权限配置, 配置管理员才能访问管理员功能. */@Configurationpublic class SaTokenConfigure implements WebMvcConfigurer {    /**     * 添加拦截器到拦截器注册表。     * 配置和注册自定义的路由拦截器，用于实现验证和鉴权规则。     *     * @param registry 拦截器注册表，用于注册和配置拦截器。     */    @Override    public void addInterceptors(InterceptorRegistry registry) {        // 注册路由拦截器，自定义验证规则        registry.addInterceptor(new SaInterceptor(handle -> {            // 根据路由划分模块，不同模块不同鉴权            SaRouter.match("/admin/**", StpUtil::checkLogin);            // 忽略所有登陆相关接口        })).addPathPatterns("/**").excludePathPatterns("/admin/login", "/admin/login/**", "/admin");    }}